<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Luis Ascorbe"/><link rel="canonical" href="https://lascorbe.com/posts/2020-04-28-MVPCoordinators-SwiftUI-part2"/><meta name="twitter:url" content="https://lascorbe.com/posts/2020-04-28-MVPCoordinators-SwiftUI-part2"/><meta name="og:url" content="https://lascorbe.com/posts/2020-04-28-MVPCoordinators-SwiftUI-part2"/><title>MVP + Coordinators in SwiftUI (part 2) | Luis Ascorbe</title><meta name="twitter:title" content="MVP + Coordinators in SwiftUI (part 2) | Luis Ascorbe"/><meta name="og:title" content="MVP + Coordinators in SwiftUI (part 2) | Luis Ascorbe"/><meta name="description" content="We'll see how to extract NavigationLink from MasterView. How to set up our Coordinator so we can return SwiftUI Views from the start function. How to easily change presenting a view as a modal instead of in a navigation stack. And we'll take a look at how to present several views from the same view. Let's go!"/><meta name="twitter:description" content="We'll see how to extract NavigationLink from MasterView. How to set up our Coordinator so we can return SwiftUI Views from the start function. How to easily change presenting a view as a modal instead of in a navigation stack. And we'll take a look at how to present several views from the same view. Let's go!"/><meta name="og:description" content="We'll see how to extract NavigationLink from MasterView. How to set up our Coordinator so we can return SwiftUI Views from the start function. How to easily change presenting a view as a modal instead of in a navigation stack. And we'll take a look at how to present several views from the same view. Let's go!"/><meta name="twitter:card" content="summary"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Luis Ascorbe"/><meta name="twitter:image" content="https://lascorbe.com/android-chrome-512x512.png"/><meta name="og:image" content="https://lascorbe.com/android-chrome-512x512.png"/><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous"/><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/grids-responsive-min.css" type="text/css"/><link rel="stylesheet" href="/Pure/styles.css" type="text/css"/><link rel="stylesheet" href="/FontAwesomeCSS/all.css" type="text/css"/><link rel="icon" href="/favicon-32x32.png" type="image/png" sizes="32x32"/><link rel="icon" href="/favicon-16x16.png" type="image/png" sizes="16x16"/><link rel="apple-touch-icon" href="/apple-touch-icon.png" type="image/png" sizes="180x180"/><link rel="manifest" href="/site.webmanifest"/></head><body><div id="layout" class="pure-g"><div class="sidebar pure-u-1 pure-u-md-1-4"><div class="sidebar-header"><div><div class="pure-menu pure-menu-horizontal"><ul class="pure-menu-list"><li class="pure-menu-item pure-menu-selected"><a class="pure-menu-link" href="/">Blog</a></li><li class="pure-menu-item pure-menu-selected"><a class="pure-menu-link" href="/about">About</a></li></ul></div></div></div><div class="sidebar-profile"><div id="layout" class="pure-g"><div class="author__avatar"><img src="https://avatars0.githubusercontent.com/u/1515520?s=460&v=4"/></div><div class="pure-u-md-1-1 pure-u-3-4"><h1 class="brand-title"><a href="/">Luis Ascorbe</a></h1><h3 class="brand-tagline">Software Developer. Tech Lead. Speaker. NSSpain Organizer.</h3></div></div><div class="social-media-container"><div id="layout" class="pure-g"><div class="pure-u-md-1-1"><a href="mailto:hi+blog@ascor.be" target="_blank"><i class="far fa-envelope l-box social-icon"></i><a class="social-media" href="mailto:hi+blog@ascor.be" target="_blank">Email</a></a></div><div class="pure-u-md-1-1"><a href="https://github.com/lascorbe" target="_blank"><i class="fab fa-github l-box social-icon"></i><a class="social-media" href="https://github.com/lascorbe" target="_blank">GitHub</a></a></div><div class="pure-u-md-1-1"><a href="https://twitter.com/lascorbe" target="_blank"><i class="fab fa-twitter l-box social-icon"></i><a class="social-media" href="https://twitter.com/lascorbe" target="_blank">Twitter</a></a></div><div class="pure-u-md-1-1"><a href="https://www.linkedin.com/in/lascorbe" target="_blank"><i class="fab fa-linkedin l-box social-icon"></i><a class="social-media" href="https://www.linkedin.com/in/lascorbe" target="_blank">LinkedIn</a></a></div></div></div></div></div><div class="content pure-u-1 pure-u-md-3-4 pure-u-xl-6-10"><h2 class="post-title">MVP + Coordinators in SwiftUI (part 2)</h2><p class="post-meta">April 28, 2020 ¬∑ ‚è± 15 minutes</p><div class="post-tags"><a class="post-category post-category-swiftui" href="/tags/swiftui">swiftui</a><a class="post-category post-category-coordinator" href="/tags/coordinator">coordinator</a><a class="post-category post-category-mvp" href="/tags/mvp">mvp</a><a class="post-category post-category-article" href="/tags/article">article</a><a class="post-category post-category-series" href="/tags/series">series</a><a class="post-category post-category-part2" href="/tags/part2">part2</a></div><div class="post-description"><div class="description-text"><img src="/images/posts/2020-04-26-MVPCoordinators-SwiftUI/1.jpg"/><p><em>Public repo: For those of you who want to check out the code right away here is the repo: <a href="https://github.com/Lascorbe/SwiftUI-MVP-Coordinator">https://github.com/Lascorbe/SwiftUI-MVP-Coordinator</a>.</em></p><p>Welcome back! This is the second part of the blog posts on creating an MVP+Coordinators app with SwiftUI. <strong>If you're looking for the first part, please go here instead:</strong> <a href="https://lascorbe.com/posts/2020-04-27-MVPCoordinators-SwiftUI-part1">lascorbe.com/posts/2020-04-27-MVPCoordinators-SwiftUI-part1</a>.</p><p><strong>In the 1st part</strong>, we learned how to set up an entire screen with the MVP pattern, we created a base <code>Coordinator</code> protocol, and implemented our first 2 coordinators. We saw how to wrap our view in a <code>NavigationView</code>, and how to implement <code>NavigationLink</code> so it doesn't depend on anything else in the view.</p><p><strong>In this part, part 2</strong>, we're going to see how to extract that <code>NavigationLink</code> from <code>MasterView</code>. We'll see how to set up our <code>Coordinator</code> so we can return SwiftUI Views from the <code>start()</code> function. We'll learn how to easily change presenting a view as a modal instead of in a navigation stack. And we'll take a look at how to present several views from the same view.</p><p>Here's what we completed in <a href="https://lascorbe.com/posts/2020-04-27-MVPCoordinators-SwiftUI-part1">the first part of this series</a>, our starting point for this second part:</p><pre><code><span class="la-comment">// MARK: Coordinator</span>

<span class="la-keyword">protocol</span> Coordinator {
    <span class="la-keyword">func</span> start()
}

<span class="la-keyword">extension</span> <span class="la-type">Coordinator</span> {
    <span class="la-keyword">func</span> coordinate(to coordinator: <span class="la-type">Coordinator</span>) {
        coordinator.<span class="la-call">start</span>()
    }
}

<span class="la-comment">// MARK: AppCoordinator</span>

<span class="la-keyword">final class</span> AppCoordinator: <span class="la-type">Coordinator</span> {
    <span class="la-keyword">private weak var</span> window: <span class="la-type">UIWindow</span>?
    
    <span class="la-keyword">init</span>(window: <span class="la-type">UIWindow</span>) {
        <span class="la-keyword">self</span>.<span class="la-property">window</span> = window
    }
  
    <span class="la-keyword">func</span> start() {
        <span class="la-keyword">let</span> coordinator = <span class="la-type">RootMasterCoordinator</span>(window: window)
        <span class="la-call">coordinate</span>(to: coordinator)
    }
}

<span class="la-comment">// MARK: MasterCoordinator</span>

<span class="la-keyword">protocol</span> MasterCoordinator: <span class="la-type">Coordinator</span> {}

<span class="la-keyword">final class</span> RootMasterCoordinator: <span class="la-type">MasterCoordinator</span> {
    <span class="la-keyword">private weak var</span> window: <span class="la-type">UIWindow</span>?
    
    <span class="la-keyword">init</span>(window: <span class="la-type">UIWindow</span>?) {
        <span class="la-keyword">self</span>.<span class="la-property">window</span> = window
    }
    
    <span class="la-keyword">func</span> start() {
        <span class="la-keyword">let</span> view = <span class="la-type">MasterFactory</span>.<span class="la-call">make</span>(with: <span class="la-keyword">self</span>)
        <span class="la-keyword">let</span> navigation = <span class="la-type">NavigationView</span> { view }
        <span class="la-keyword">let</span> hosting = <span class="la-type">UIHostingController</span>(rootView: navigation)
        window?.<span class="la-property">rootViewController</span> = hosting
        window?.<span class="la-call">makeKeyAndVisible</span>()
    }
}

<span class="la-comment">// MARK: Factory</span>

<span class="la-keyword">enum</span> MasterFactory {
    <span class="la-keyword">static func</span> make(with coordinator: <span class="la-type">MasterCoordinator</span>) -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">let</span> presenter = <span class="la-type">MasterPresenter</span>(coordinator: coordinator)
        <span class="la-keyword">let</span> view = <span class="la-type">MasterView</span>(presenter: presenter)
        <span class="la-keyword">return</span> view
    }
}

<span class="la-comment">// MARK: MVP</span>

<span class="la-keyword">struct</span> MasterViewModel {
    <span class="la-keyword">let</span> date: <span class="la-type">Date</span>
}

<span class="la-keyword">protocol</span> MasterPresenting: <span class="la-type">ObservableObject</span> {
    <span class="la-keyword">var</span> viewModel: <span class="la-type">MasterViewModel</span> { <span class="la-keyword">get</span> }
}

<span class="la-keyword">final class</span> MasterPresenter: <span class="la-type">MasterPresenting</span> {
    <span class="la-keyword">@Published private(set) var</span> viewModel: <span class="la-type">MasterViewModel</span>
  
    <span class="la-keyword">private let</span> coordinator: <span class="la-type">MasterCoordinator</span>
    
    <span class="la-keyword">init</span>(coordinator: <span class="la-type">MasterCoordinator</span>) {
        <span class="la-keyword">self</span>.<span class="la-property">coordinator</span> = coordinator
        <span class="la-keyword">self</span>.<span class="la-property">viewModel</span> = <span class="la-type">MasterViewModel</span>(date: <span class="la-type">Date</span>())
    }
}

<span class="la-keyword">struct</span> MasterView&lt;T: <span class="la-type">MasterPresenting</span>&gt;: <span class="la-type">View</span> {
    <span class="la-keyword">@ObservedObject var</span> presenter: <span class="la-type">T</span>
  
    <span class="la-keyword">@State private var</span> isPresented = <span class="la-keyword">false
  
    var</span> body: <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-type">Button</span>(action: {
            <span class="la-keyword">self</span>.<span class="la-property">isPresented</span> = <span class="la-keyword">true</span>
        }) {
            <span class="la-type">Text</span>(<span class="la-string">"</span>\(presenter.<span class="la-property">viewModel</span>.<span class="la-property">date</span>, formatter: dateFormatter)<span class="la-string">"</span>) 
                .<span class="la-call">background</span>(
                    <span class="la-comment">// this is the cool part</span>
                    <span class="la-type">NavigationLink</span>(destination: <span class="la-type">EmptyView</span>(), isActive: $isPresented) {
                        <span class="la-type">EmptyView</span>()
                    }
                )
        }
    }
}
</code></pre><h2>1. ü•ä Extracting <code>NavigationLink</code></h2><p>The last thing we did in <em><a href="https://lascorbe.com/posts/2020-04-27-MVPCoordinators-SwiftUI-part1">part 1</a></em> was moving <code>NavigationView</code> out of the <code>MasterView</code> and "hidding" <code>NavigationLink</code> as the background view of the Button's text:</p><pre><code><span class="la-keyword">struct</span> MasterView&lt;T: <span class="la-type">MasterPresenting</span>&gt;: <span class="la-type">View</span> {
    <span class="la-keyword">@ObservedObject var</span> presenter: <span class="la-type">T</span>
  
    <span class="la-keyword">@State private var</span> isPresented = <span class="la-keyword">false
  
    var</span> body: <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-type">Button</span>(action: {
            <span class="la-keyword">self</span>.<span class="la-property">isPresented</span> = <span class="la-keyword">true</span>
        }) {
            <span class="la-type">Text</span>(<span class="la-string">"</span>\(presenter.<span class="la-property">viewModel</span>.<span class="la-property">date</span>, formatter: dateFormatter)<span class="la-string">"</span>) 
                .<span class="la-call">background</span>(
                    <span class="la-type">NavigationLink</span>(destination: <span class="la-type">EmptyView</span>(), isActive: $isPresented) {
                        <span class="la-type">EmptyView</span>()
                    }
                )
        }
    }
}
</code></pre><p>First let's see if we can make all that Button/background dance look better, so lets create a new view that handles it for us:</p><pre><code><span class="la-keyword">struct</span> NavigationButton&lt;CV: <span class="la-type">View</span>, NV: <span class="la-type">View</span>&gt;: <span class="la-type">View</span> {
    <span class="la-keyword">@State private var</span> isPresented = <span class="la-keyword">false
    
    var</span> contentView: <span class="la-type">CV</span>
    <span class="la-keyword">var</span> navigationView: (<span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-type">NV</span>
    
    <span class="la-keyword">var</span> body: <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-type">Button</span>(action: {
            <span class="la-keyword">self</span>.<span class="la-property">isPresented</span> = <span class="la-keyword">true</span>
        }) {
            contentView
                .<span class="la-call">background</span>(
                    <span class="la-call">navigationView</span>($isPresented)
                )
        }
    }
}
</code></pre><p>Our new <code>NavigationButton</code> accepts one view, to present it as the button's content, and one constructor, a closure, for the navigation view. We have to use a closure so we can pass <code>isPresented</code> back and bind it.</p><p>This is how our <code>MasterView</code> looks now:</p><pre><code><span class="la-keyword">struct</span> MasterView&lt;T: <span class="la-type">MasterPresenting</span>&gt;: <span class="la-type">View</span> {
    <span class="la-keyword">@ObservedObject var</span> presenter: <span class="la-type">T</span>
  
    <span class="la-keyword">var</span> body: <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-type">NavigationButton</span>(contentView: <span class="la-type">Text</span>(<span class="la-string">"</span>\(presenter.<span class="la-property">viewModel</span>.<span class="la-property">date</span>, formatter: dateFormatter)<span class="la-string">"</span>) ,
                         navigationView: { isPresented <span class="la-keyword">in</span>
                             <span class="la-type">NavigationLink</span>(destination: <span class="la-type">EmptyView</span>(), isActive: $isPresented) {
                                 <span class="la-type">EmptyView</span>()
                             }
        })
    }
}
</code></pre><p>We switched the <code>Button</code> that was there before with our newly created <code>NavigationButton</code>. Notice that now we don't have to have a property to store <code>isPresented</code> because that's now handled by <code>NavigationButton</code>.</p><p>Now we can extract <code>NavigationLink</code>! Let's define what we really would like to have in the button in <code>MasterView</code>:</p><pre><code><span class="la-type">NavigationButton</span>(contentView: <span class="la-type">Text</span>(<span class="la-string">"</span>\(presenter.<span class="la-property">viewModel</span>.<span class="la-property">date</span>, formatter: dateFormatter)<span class="la-string">"</span>) ,
                 navigationView: { isPresented <span class="la-keyword">in
                     self</span>.<span class="la-property">presenter</span>.<span class="la-call">onButtonPressed</span>(isPresented: $isPresented)
})
</code></pre><p>See how we switched <code>NavigationLink</code> with a presenter's function. And now I ask, where do we move <code>NavigationLink</code> to? The presenter? Hmmm, maybe better to the coordinator!</p><p>But first, let's implement this method in the presenter:</p><pre><code><span class="la-keyword">protocol</span> MasterPresenting: <span class="la-type">ObservableObject</span> {
    <span class="la-keyword">associatedtype</span> U: <span class="la-type">View</span>                                
    <span class="la-keyword">var</span> viewModel: <span class="la-type">MasterViewModel</span> { <span class="la-keyword">get</span> }
    <span class="la-keyword">func</span> onButtonPressed(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-type">U</span> <span class="la-comment">// we return a View</span>
}

<span class="la-keyword">final class</span> MasterPresenter: <span class="la-type">MasterPresenting</span> {
    <span class="la-keyword">@Published private(set) var</span> viewModel: <span class="la-type">MasterViewModel</span>
  
    <span class="la-keyword">private let</span> coordinator: <span class="la-type">MasterCoordinator</span>
    
    <span class="la-keyword">init</span>(coordinator: <span class="la-type">MasterCoordinator</span>) {
        <span class="la-keyword">self</span>.<span class="la-property">coordinator</span> = coordinator
        <span class="la-keyword">self</span>.<span class="la-property">viewModel</span> = <span class="la-type">MasterViewModel</span>(date: <span class="la-type">Date</span>())
    }
  
  	<span class="la-comment">// using `some` we don't have to specify the MasterPresenting's associatedtype</span>
    <span class="la-keyword">func</span> onButtonPressed(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> { 
        <span class="la-keyword">return</span> coordinator.<span class="la-call">presentDetailView</span>(isPresented: isPresented)
    }
}
</code></pre><p>We have to return a SwiftUI View, which can only be used as a generic constraint, so we need to add an <code>associatedtype</code> in our <code>MasterPresenting</code> protocol. Notice how with the <code>some</code> keyword in <code>MasterPresenter</code> we don't have to specify the <code>associatedtype</code>.</p><p>Perfect, take a look at <code>coordinator.presentDetailView(:)</code>, it's returning a View. Now we can go to <code>MasterPresenter</code>'s coordinator and add the <code>presentDetailView</code> function.</p><p>Remember we had a <code>MasterCoordinator</code> protocol which was empty? Not anymore:</p><pre><code><span class="la-keyword">protocol</span> MasterCoordinator: <span class="la-type">Coordinator</span> {}

<span class="la-keyword">extension</span> <span class="la-type">MasterCoordinator</span> {
    <span class="la-keyword">func</span> presentDetailView(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">let</span> coordinator = <span class="la-type">NavigationDetailCoordinator</span>(isPresented: isPresented)
        <span class="la-keyword">return</span> <span class="la-call">coordinate</span>(to: coordinator)
    }
}
</code></pre><p>Since <code>presentDetailView</code> is a <em>pure</em> function, we can add it as a default implementation to the <code>MasterCoordinator</code> protocol (isn't the <code>some</code> keyword great?).</p><p>By the way, did you notice we have a new coordinator? Yup, <code>NavigationDetailCoordinator</code>! It's exactly where we're going to put the <code>NavigationLink</code>:</p><pre><code><span class="la-keyword">protocol</span> DetailCoordinator: <span class="la-type">Coordinator</span> {}

<span class="la-keyword">final class</span> NavigationDetailCoordinator: <span class="la-type">DetailCoordinator</span> {
    <span class="la-keyword">private var</span> isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;
    
    <span class="la-keyword">init</span>(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) {
        <span class="la-keyword">self</span>.<span class="la-property">isPresented</span> = isPresented
    }
    
    <span class="la-keyword">func</span> start() -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">return</span> <span class="la-type">NavigationLink</span>(destination: <span class="la-type">EmptyView</span>(), isActive: isPresented) {
            <span class="la-type">EmptyView</span>()
        }
    }
}
</code></pre><p>Hmmm... but now we have a problem, we're returning a View from <code>start()</code>, but the <code>Coordinator</code> protocol implementation isn't returning anything, we'll see what we have to do there.</p><p>Great! We've seen how to extract that <code>NavigationLink</code> from our <code>MasterView</code> creating a handy new <code>NavigationButton</code> along the way. In the next section we're going to reimplement our base Coordinator to handle returning Views from <code>start()</code>.</p><p>This is what we've done so far:</p><pre><code><span class="la-comment">// MARK: Coordinator</span>

<span class="la-keyword">protocol</span> Coordinator {
    <span class="la-keyword">func</span> start()
}

<span class="la-keyword">extension</span> <span class="la-type">Coordinator</span> {
    <span class="la-keyword">func</span> coordinate(to coordinator: <span class="la-type">Coordinator</span>) {
        coordinator.<span class="la-property">parent</span> = <span class="la-keyword">self</span>
        coordinator.<span class="la-call">start</span>()
    }
}

<span class="la-comment">// MARK: AppCoordinator</span>

<span class="la-keyword">final class</span> AppCoordinator: <span class="la-type">Coordinator</span> {
    <span class="la-keyword">private weak var</span> window: <span class="la-type">UIWindow</span>?
    
    <span class="la-keyword">init</span>(window: <span class="la-type">UIWindow</span>) {
        <span class="la-keyword">self</span>.<span class="la-property">window</span> = window
    }
    
    <span class="la-keyword">func</span> start() {
        <span class="la-keyword">let</span> coordinator = <span class="la-type">RootMasterCoordinator</span>(window: window)
        <span class="la-keyword">return</span> <span class="la-call">coordinate</span>(to: coordinator)
    }
}

<span class="la-comment">// MARK: MasterCoordinator</span>

<span class="la-keyword">protocol</span> MasterCoordinator: <span class="la-type">Coordinator</span> {}

<span class="la-keyword">extension</span> <span class="la-type">MasterCoordinator</span> {
    <span class="la-keyword">func</span> presentDetailView(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">let</span> coordinator = <span class="la-type">NavigationDetailCoordinator</span>(isPresented: isPresented)
        <span class="la-keyword">return</span> <span class="la-call">coordinate</span>(to: coordinator)
    }
}

<span class="la-keyword">final class</span> RootMasterCoordinator: <span class="la-type">MasterCoordinator</span> {
    <span class="la-keyword">private weak var</span> window: <span class="la-type">UIWindow</span>?
    
    <span class="la-keyword">init</span>(window: <span class="la-type">UIWindow</span>?) {
        <span class="la-keyword">self</span>.<span class="la-property">window</span> = window
    }
    
    <span class="la-keyword">func</span> start() {
        <span class="la-keyword">let</span> view = <span class="la-type">MasterFactory</span>.<span class="la-call">make</span>(with: <span class="la-keyword">self</span>)
        <span class="la-keyword">let</span> navigation = <span class="la-type">NavigationView</span> { view }
        <span class="la-keyword">let</span> hosting = <span class="la-type">UIHostingController</span>(rootView: navigation)
        window?.<span class="la-property">rootViewController</span> = hosting
        window?.<span class="la-call">makeKeyAndVisible</span>()
    }
}

<span class="la-comment">// MARK: DetailCoordinator</span>

<span class="la-keyword">protocol</span> DetailCoordinator: <span class="la-type">Coordinator</span> {}

<span class="la-keyword">final class</span> NavigationDetailCoordinator: <span class="la-type">DetailCoordinator</span> {
    <span class="la-keyword">private var</span> isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;
    
    <span class="la-keyword">init</span>(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) {
        <span class="la-keyword">self</span>.<span class="la-property">isPresented</span> = isPresented
    }
    
    <span class="la-keyword">func</span> start() -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">return</span> <span class="la-type">NavigationLink</span>(destination: <span class="la-type">EmptyView</span>(), isActive: isPresented) {
            <span class="la-type">EmptyView</span>()
        }
    }
}

<span class="la-comment">// MARK: Factory</span>

<span class="la-keyword">enum</span> MasterFactory {
    <span class="la-keyword">static func</span> make(with coordinator: <span class="la-type">MasterCoordinator</span>) -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">let</span> presenter = <span class="la-type">MasterPresenter</span>(coordinator: coordinator)
        <span class="la-keyword">let</span> view = <span class="la-type">MasterView</span>(presenter: presenter)
        <span class="la-keyword">return</span> view
    }
}

<span class="la-comment">// MARK: MVP</span>

<span class="la-keyword">struct</span> MasterViewModel {
    <span class="la-keyword">let</span> date: <span class="la-type">Date</span>
}

<span class="la-keyword">protocol</span> MasterPresenting: <span class="la-type">ObservableObject</span> {
    <span class="la-keyword">associatedtype</span> U: <span class="la-type">View</span>                                
    <span class="la-keyword">var</span> viewModel: <span class="la-type">MasterViewModel</span> { <span class="la-keyword">get</span> }
    <span class="la-keyword">func</span> onButtonPressed(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-type">U</span>
}

<span class="la-keyword">final class</span> MasterPresenter: <span class="la-type">MasterPresenting</span> {
    <span class="la-keyword">@Published private(set) var</span> viewModel: <span class="la-type">MasterViewModel</span>
  
    <span class="la-keyword">private let</span> coordinator: <span class="la-type">MasterCoordinator</span>
    
    <span class="la-keyword">init</span>(coordinator: <span class="la-type">MasterCoordinator</span>) {
        <span class="la-keyword">self</span>.<span class="la-property">coordinator</span> = coordinator 
        <span class="la-keyword">self</span>.<span class="la-property">viewModel</span> = <span class="la-type">MasterViewModel</span>(date: <span class="la-type">Date</span>())
    }
  
    <span class="la-keyword">func</span> onButtonPressed(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> { 
        <span class="la-keyword">return</span> coordinator.<span class="la-call">presentDetailView</span>(isPresented: isPresented)
    }
}

<span class="la-keyword">struct</span> MasterView&lt;T: <span class="la-type">MasterPresenting</span>&gt;: <span class="la-type">View</span> {
    <span class="la-keyword">@ObservedObject var</span> presenter: <span class="la-type">T</span>
    
    <span class="la-keyword">var</span> body: <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-type">NavigationButton</span>(contentView: <span class="la-type">Text</span>(<span class="la-string">"</span>\(presenter.<span class="la-property">viewModel</span>.<span class="la-property">date</span>, formatter: dateFormatter)<span class="la-string">"</span>),
                         navigationView: { isPresented <span class="la-keyword">in
                            self</span>.<span class="la-property">presenter</span>.<span class="la-call">onButtonPressed</span>(isPresented: isPresented)
        })
    }
}

<span class="la-keyword">struct</span> NavigationButton&lt;CV: <span class="la-type">View</span>, NV: <span class="la-type">View</span>&gt;: <span class="la-type">View</span> {
    <span class="la-keyword">@State private var</span> isPresented = <span class="la-keyword">false
    
    var</span> contentView: <span class="la-type">CV</span>
    <span class="la-keyword">var</span> navigationView: (<span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-type">NV</span>
    
    <span class="la-keyword">var</span> body: <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-type">Button</span>(action: {
            <span class="la-keyword">self</span>.<span class="la-property">isPresented</span> = <span class="la-keyword">true</span>
        }) {
            contentView
                .<span class="la-call">background</span>(
                    <span class="la-call">navigationView</span>($isPresented)
            )
        }
    }
}
</code></pre><h2>2. ‚ö°Ô∏è Changing base Coordinator's implementation</h2><p>We just saw how to extract the <code>NavigationLink</code> from our <code>MasterView</code> creating a handy new <code>NavigationButton</code> along the way. Now we're going to reimplement our base Coordinator to return SwiftUI Views from <code>start()</code>.</p><p>Let's change it, this is our new <code>Coordinator</code> protocol:</p><pre><code><span class="la-keyword">protocol</span> Coordinator {
    <span class="la-keyword">associatedtype</span> U: <span class="la-type">View</span>
    <span class="la-keyword">func</span> start() -&gt; <span class="la-type">U</span>
}

<span class="la-keyword">extension</span> <span class="la-type">Coordinator</span> {
    <span class="la-keyword">func</span> coordinate&lt;T: <span class="la-type">Coordinator</span>&gt;(to coordinator: <span class="la-type">T</span>) -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">return</span> coordinator.<span class="la-call">start</span>()
    }
}
</code></pre><p>Ok, we redefined our <code>start</code> and <code>coordinate</code> methods, now both of them return a View. And we rely on the power of generics and the keyword <code>some</code> to avoid specifying them.</p><p>Since we're now leveraging on a generic protocol for the coordinators, we have to change the implementation of <code>AppCoordinator</code>, <code>MasterFactory</code> and <code>MasterPresenter</code> like so:</p><pre><code><span class="la-keyword">final class</span> AppCoordinator: <span class="la-type">Coordinator</span> {
    {...}
    
    <span class="la-keyword">@discardableResult</span> <span class="la-comment">// discardableResult let us avoid capturing whatever it returns</span>
    <span class="la-keyword">func</span> start() -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">let</span> coordinator = <span class="la-type">RootMasterCoordinator</span>(window: window)
        <span class="la-keyword">return</span> <span class="la-call">coordinate</span>(to: coordinator)
    }
}

<span class="la-keyword">final class</span> RootMasterCoordinator: <span class="la-type">MasterCoordinator</span> {
    {...}
    
    <span class="la-keyword">func</span> start() -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">let</span> view = <span class="la-type">MasterFactory</span>.<span class="la-call">make</span>(with: <span class="la-keyword">self</span>)
        <span class="la-keyword">let</span> navigation = <span class="la-type">NavigationView</span> { view }
        <span class="la-keyword">let</span> hosting = <span class="la-type">UIHostingController</span>(rootView: navigation)
        window?.<span class="la-property">rootViewController</span> = hosting
        window?.<span class="la-call">makeKeyAndVisible</span>()
        <span class="la-keyword">return</span> <span class="la-type">EmptyView</span>() <span class="la-comment">// we just have to return something</span>
    }
}

<span class="la-keyword">enum</span> MasterFactory {
    <span class="la-keyword">static func</span> make&lt;C: <span class="la-type">MasterCoordinator</span>&gt;(with coordinator: <span class="la-type">C</span>) -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        {...}
    }
}

<span class="la-keyword">final class</span> MasterPresenter&lt;C: <span class="la-type">MasterCoordinator</span>&gt;: <span class="la-type">MasterPresenting</span> {
    <span class="la-keyword">@Published private(set) var</span> viewModel: <span class="la-type">MasterViewModel</span>
  
    <span class="la-keyword">private let</span> coordinator: <span class="la-type">C</span>
    
    <span class="la-keyword">init</span>(coordinator: <span class="la-type">C</span>) {
        <span class="la-keyword">self</span>.<span class="la-property">coordinator</span> = coordinator
        <span class="la-keyword">self</span>.<span class="la-property">viewModel</span> = <span class="la-type">MasterViewModel</span>(date: <span class="la-type">Date</span>())
    }
  
    {...}
}
</code></pre><p>Check out the <code>some View</code> and <code>&lt;C: MasterCoordinator&gt;</code> parts, we have to add them because we are conforming to the <code>Coordinator</code> protocol, which is generic now.</p><p>Aaaand done! Now we can navigate from one view to another one without the <code>NavigationLink</code> in the view itself, wooo!</p><p>We just saw how to setup our Coordinator so we can return SwiftUI Views from the <code>start()</code> function. In the next section we'll see how to present a view as a modal, and how to present several views from the same view.</p><p>Here's what we've done so far:</p><pre><code><span class="la-comment">// MARK: Coordinator</span>

<span class="la-keyword">protocol</span> Coordinator {
    <span class="la-keyword">associatedtype</span> U: <span class="la-type">View</span>
    <span class="la-keyword">func</span> start() -&gt; <span class="la-type">U</span>
}

<span class="la-keyword">extension</span> <span class="la-type">Coordinator</span> {
    <span class="la-keyword">func</span> coordinate&lt;T: <span class="la-type">Coordinator</span>&gt;(to coordinator: <span class="la-type">T</span>) -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">return</span> coordinator.<span class="la-call">start</span>()
    }
}

<span class="la-comment">// MARK: AppCoordinator</span>

<span class="la-keyword">final class</span> AppCoordinator: <span class="la-type">Coordinator</span> {
    <span class="la-keyword">private weak var</span> window: <span class="la-type">UIWindow</span>?
    
    <span class="la-keyword">init</span>(window: <span class="la-type">UIWindow</span>) {
        <span class="la-keyword">self</span>.<span class="la-property">window</span> = window
    }
    
    <span class="la-keyword">@discardableResult
    func</span> start() -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">let</span> coordinator = <span class="la-type">RootMasterCoordinator</span>(window: window)
        <span class="la-keyword">return</span> <span class="la-call">coordinate</span>(to: coordinator)
    }
}

<span class="la-comment">// MARK: MasterCoordinator</span>

<span class="la-keyword">protocol</span> MasterCoordinator: <span class="la-type">Coordinator</span> {}

<span class="la-keyword">extension</span> <span class="la-type">MasterCoordinator</span> {
    <span class="la-keyword">func</span> presentDetailView(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">let</span> coordinator = <span class="la-type">NavigationDetailCoordinator</span>(isPresented: isPresented)
        <span class="la-keyword">return</span> <span class="la-call">coordinate</span>(to: coordinator)
    }
}

<span class="la-keyword">final class</span> RootMasterCoordinator: <span class="la-type">MasterCoordinator</span> {
    <span class="la-keyword">private weak var</span> window: <span class="la-type">UIWindow</span>?
    
    <span class="la-keyword">init</span>(window: <span class="la-type">UIWindow</span>?) {
        <span class="la-keyword">self</span>.<span class="la-property">window</span> = window
    }
    
    <span class="la-keyword">func</span> start() -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">let</span> view = <span class="la-type">MasterFactory</span>.<span class="la-call">make</span>(with: <span class="la-keyword">self</span>)
        <span class="la-keyword">let</span> navigation = <span class="la-type">NavigationView</span> { view }
        <span class="la-keyword">let</span> hosting = <span class="la-type">UIHostingController</span>(rootView: navigation)
        window?.<span class="la-property">rootViewController</span> = hosting
        window?.<span class="la-call">makeKeyAndVisible</span>()
        <span class="la-keyword">return</span> <span class="la-type">EmptyView</span>() 
    }
}

<span class="la-comment">// MARK: DetailCoordinator</span>

<span class="la-keyword">protocol</span> DetailCoordinator: <span class="la-type">Coordinator</span> {}

<span class="la-keyword">final class</span> NavigationDetailCoordinator: <span class="la-type">DetailCoordinator</span> {
    <span class="la-keyword">private var</span> isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;
    
    <span class="la-keyword">init</span>(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) {
        <span class="la-keyword">self</span>.<span class="la-property">isPresented</span> = isPresented
    }
    
    <span class="la-keyword">func</span> start() -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">return</span> <span class="la-type">NavigationLink</span>(destination: <span class="la-type">EmptyView</span>(), isActive: isPresented) {
            <span class="la-type">EmptyView</span>()
        }
    }
}

<span class="la-comment">// MARK: Factory</span>

<span class="la-keyword">enum</span> MasterFactory {
    <span class="la-keyword">static func</span> make&lt;C: <span class="la-type">MasterCoordinator</span>&gt;(with coordinator: <span class="la-type">C</span>) -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">let</span> presenter = <span class="la-type">MasterPresenter</span>(coordinator: coordinator)
        <span class="la-keyword">let</span> view = <span class="la-type">MasterView</span>(presenter: presenter)
        <span class="la-keyword">return</span> view
    }
}

<span class="la-comment">// MARK: MVP</span>

<span class="la-keyword">struct</span> MasterViewModel {
    <span class="la-keyword">let</span> date: <span class="la-type">Date</span>
}

<span class="la-keyword">protocol</span> MasterPresenting: <span class="la-type">ObservableObject</span> {
    <span class="la-keyword">associatedtype</span> U: <span class="la-type">View</span>                                
    <span class="la-keyword">var</span> viewModel: <span class="la-type">MasterViewModel</span> { <span class="la-keyword">get</span> }
    <span class="la-keyword">func</span> onButtonPressed(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-type">U</span>
}

<span class="la-keyword">final class</span> MasterPresenter&lt;C: <span class="la-type">MasterCoordinator</span>&gt;: <span class="la-type">MasterPresenting</span> {
    <span class="la-keyword">@Published private(set) var</span> viewModel: <span class="la-type">MasterViewModel</span>
  
    <span class="la-keyword">private let</span> coordinator: <span class="la-type">C</span>
    
    <span class="la-keyword">init</span>(coordinator: <span class="la-type">C</span>) {
        <span class="la-keyword">self</span>.<span class="la-property">coordinator</span> = coordinator
        <span class="la-keyword">self</span>.<span class="la-property">viewModel</span> = <span class="la-type">MasterViewModel</span>(date: <span class="la-type">Date</span>())
    }
  
    <span class="la-keyword">func</span> onButtonPressed(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> { 
        <span class="la-keyword">return</span> coordinator.<span class="la-call">presentDetailView</span>(isPresented: isPresented)
    }
}

<span class="la-keyword">struct</span> MasterView&lt;T: <span class="la-type">MasterPresenting</span>&gt;: <span class="la-type">View</span> {
    <span class="la-keyword">@ObservedObject var</span> presenter: <span class="la-type">T</span>
    
    <span class="la-keyword">var</span> body: <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-type">NavigationButton</span>(contentView: <span class="la-type">Text</span>(<span class="la-string">"</span>\(presenter.<span class="la-property">viewModel</span>.<span class="la-property">date</span>, formatter: dateFormatter)<span class="la-string">"</span>),
                         navigationView: { isPresented <span class="la-keyword">in
                            self</span>.<span class="la-property">presenter</span>.<span class="la-call">onButtonPressed</span>(isPresented: isPresented)
        })
    }
}

<span class="la-keyword">struct</span> NavigationButton&lt;CV: <span class="la-type">View</span>, NV: <span class="la-type">View</span>&gt;: <span class="la-type">View</span> {
    <span class="la-keyword">@State private var</span> isPresented = <span class="la-keyword">false
    
    var</span> contentView: <span class="la-type">CV</span>
    <span class="la-keyword">var</span> navigationView: (<span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-type">NV</span>
    
    <span class="la-keyword">var</span> body: <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-type">Button</span>(action: {
            <span class="la-keyword">self</span>.<span class="la-property">isPresented</span> = <span class="la-keyword">true</span>
        }) {
            contentView
                .<span class="la-call">background</span>(
                    <span class="la-call">navigationView</span>($isPresented)
            )
        }
    }
}
</code></pre><h2>3. üö® Switch from navigation to modal</h2><p>We've learned how we can navigate from one view to another one with <code>NavigationLink</code>, but what if I want to present the view as a modal? Remember the <code>.sheet</code> modifier we talked about in <a href="https://lascorbe.com/posts/2020-04-27-MVPCoordinators-SwiftUI-part1">part 1</a>? Well, I have a small trick for that, which is wrapping <code>.sheet</code> in a View:</p><pre><code><span class="la-keyword">struct</span> ModalLink&lt;T: <span class="la-type">View</span>&gt;: <span class="la-type">View</span> {
    <span class="la-keyword">@Binding var</span> isPresented: <span class="la-type">Bool</span>
    <span class="la-keyword">var</span> destination: <span class="la-type">T</span>
    
    <span class="la-keyword">var</span> body: <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-type">EmptyView</span>()
            .<span class="la-call">sheet</span>(isPresented: $isPresented, content: {
                <span class="la-keyword">self</span>.<span class="la-property">destination</span>
            })
    }
}
</code></pre><p><code>ModalLink</code> is a view that contains the <code>.sheet</code> modifier, so we can use it as a view instead of as a modifier. Now that we have something like <code>NavigationLink</code> but for modal presentations, let's see how to use it.</p><p>Let's go to <code>NavigationDetailCoordinator</code>, and change the implementation of <code>start()</code> to show the view as a modal, instead of a push on the navigation stack, like this:</p><pre><code><span class="la-comment">// Before</span>
<span class="la-keyword">final class</span> NavigationDetailCoordinator: <span class="la-type">DetailCoordinator</span> {
    {...}
    
    <span class="la-keyword">func</span> start() -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">return</span> <span class="la-type">NavigationLink</span>(destination: <span class="la-type">EmptyView</span>(), isActive: isPresented) {
            <span class="la-type">EmptyView</span>()
        }
    }
}

<span class="la-comment">// After</span>
<span class="la-keyword">final class</span> NavigationDetailCoordinator: <span class="la-type">Coordinator</span> {
    {...}
    
    <span class="la-keyword">func</span> start() -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-keyword">return</span> <span class="la-type">ModalLink</span>(isPresented: isPresented, destination: view)
    }
}
</code></pre><p>That's it! That's the change! We didn't have to touch <code>MasterView</code>, <code>MasterPresenter</code> or any other file. We just switched from <code>NavigationLink</code> to our all-new <code>ModalLink</code>.</p><p>Now, let's say we would like to navigate to 2 views from the same view. Can we do that? Sure, we add a new <code>NavigationButton</code> to the view, and then handle the call from the presenter, like this:</p><pre><code><span class="la-keyword">protocol</span> MasterPresenting: <span class="la-type">ObservableObject</span> {
    <span class="la-keyword">associatedtype</span> V1: <span class="la-type">View</span>                                
    <span class="la-keyword">associatedtype</span> V2: <span class="la-type">View</span>                                
    <span class="la-keyword">var</span> viewModel: <span class="la-type">MasterViewModel</span> { <span class="la-keyword">get</span> }
    <span class="la-keyword">func</span> onButtonPressed1(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-type">V1</span>
    <span class="la-keyword">func</span> onButtonPressed2(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-type">V2</span>
}
</code></pre><p>Notice that we have to add a new <code>associatedtype</code> for every different view we want to navigate to, and we're done. Then we have to link it to the coordinator in the presenter's implementation, and the call to the appropiate coordinator from the presenter's coordinator:</p><pre><code><span class="la-keyword">protocol</span> MasterCoordinator: <span class="la-type">Coordinator</span> {}

<span class="la-keyword">extension</span> <span class="la-type">MasterCoordinator</span> {
    <span class="la-keyword">func</span> presentDetailView1(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-comment">// here we decide here to which coordinator we'd like to navigate to</span>
        <span class="la-keyword">let</span> coordinator = <span class="la-type">NavigationDetailCoordinator</span>(isPresented: isPresented)
        <span class="la-keyword">return</span> <span class="la-call">coordinate</span>(to: coordinator)
    }
  
    <span class="la-keyword">func</span> presentDetailView2(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> {
        <span class="la-comment">// here we decide here to which coordinator we'd like to navigate to</span>
        <span class="la-keyword">let</span> coordinator = <span class="la-type">AnotherNewCoordinator</span>(isPresented: isPresented)
        <span class="la-keyword">return</span> <span class="la-call">coordinate</span>(to: coordinator)
    }
}

<span class="la-keyword">final class</span> RootMasterCoordinator: <span class="la-type">MasterCoordinator</span> {
    {...}
}

<span class="la-keyword">final class</span> MasterPresenter&lt;C: <span class="la-type">MasterCoordinator</span>&gt;: <span class="la-type">MasterPresenting</span> {
    {...}
  
    <span class="la-keyword">func</span> onButtonPressed1(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> { 
        <span class="la-keyword">return</span> coordinator.<span class="la-call">presentDetailView1</span>(isPresented: isPresented)
    }
  
    <span class="la-keyword">func</span> onButtonPressed2(isPresented: <span class="la-type">Binding</span>&lt;<span class="la-type">Bool</span>&gt;) -&gt; <span class="la-keyword">some</span> <span class="la-type">View</span> { 
        <span class="la-keyword">return</span> coordinator.<span class="la-call">presentDetailView2</span>(isPresented: isPresented)
    }
}
</code></pre><p>In this section we saw how to easily change presenting a view as a modal instead of in a navigation stack. We also learned how to present several views from the same view. And we've arrived to the end of part 2.</p><p>I'm not going to add the "what we've done so far" bit here because it's starting to get big. But I invite you to <a href="https://github.com/Lascorbe/SwiftUI-MVP-Coordinator">take a look at the public repo where I'm doing all</a>, where the final implementation is, with more classes and examples, and both ways of navigating, with navigation stack and modals.</p><h2>üèÅ Conclusion</h2><p>We've learned how to extract that <code>NavigationLink</code> from our <code>MasterView</code> creating a handy new <code>NavigationButton</code> along the way. We saw how to set up our <code>Coordinator</code> so we can return SwiftUI Views from the <code>start()</code> function. We learned how to easily change presenting a view as a modal instead of in a navigation stack. And we also saw how to present several views from the same view.</p><p><strong>That's it! We've completed part 2 of this series.</strong> In the next post, part 3, we'll see how to reimplement our <code>Coordinator</code> protocol to store its identifier, parent and children. To do that, to create stored properies in protocol extensions, we'll create a mixin using the power of the Objective-C runtime, sounds cool?</p><p><strong>Next part of the series (part 3)!</strong>: <a href="https://lascorbe.com/posts/2020-04-29-MVPCoordinators-SwiftUI-part3">https://lascorbe.com/posts/2020-04-29-MVPCoordinators-SwiftUI-part3</a></p><p>I hope you liked <a href="https://lascorbe.com/posts/2020-04-27-MVPCoordinators-SwiftUI-part1">part 1</a> and <a href="https://lascorbe.com/posts/2020-04-28-MVPCoordinators-SwiftUI-part2">part 2</a> covering my experience trying to decouple the navigation in SwftUI.</p><p>Thank you for reading. Let me know what you think and share it with your friends!</p><p>Luis.</p></div></div><div class="post-description"><div class="pure-u-md-1-1"><a href="https://twitter.com/intent/tweet?via=lascorbe&text=MVP%20+%20Coordinators%20in%20SwiftUI%20(part%202)&url=https://lascorbe.com/posts/2020-04-28-MVPCoordinators-SwiftUI-part2" target="_blank"><i class="fab fa-twitter l-box social-icon"></i>Share this post on Twitter.</a></div></div></div><div class="footer pure-u-1"><div class="pure-u-1">¬© 2020 Luis Ascorbe</div><div class="pure-u-1">Generated using <a href="https://github.com/johnsundell/publish" target="_blank">Publish</a>. 100% JavaScript-free.</div><div class="pure-u-1"><a href="/feed.rss">RSS</a> | <a href="/about">About</a></div></div></div></body></html>